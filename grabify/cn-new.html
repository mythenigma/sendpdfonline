<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <title>高级版 Grabify - 现代化 IP 记录器与链接追踪工具</title>
    <meta name="keywords" content="链接追踪, URL追踪, IP追踪, Grabify, 点击追踪, 用户行为监控, 链接交互监控, 推荐流量追踪, 邮件链接监控, IP记录器, 网络安全">
    <meta name="description" content="高级版 Grabify 是一个现代化的 IP 记录和链接追踪工具，可以追踪和监控您的链接点击情况，提供详细的 IP 地址和用户行为信息。">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" type="text/css">
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9224406325142860" crossorigin="anonymous"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YWYV3VSCFH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-YWYV3VSCFH');
    </script>

    <style>
        :root {
            --bg-color: #1a1a2e;
            --card-bg-color: #1f1f3a;
            --primary-text-color: #e0e0e0;
            --secondary-text-color: #a0a0c0;
            --accent-gradient: linear-gradient(90deg, #114FEE, #C835F8);
            --border-color: rgba(255, 255, 255, 0.1);
            --shadow-color: rgba(0, 0, 0, 0.3);
            --glow-color: rgba(100, 100, 255, 0.4);
            --success-color: #2ecc71;
            --danger-color: #e74c3c;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-text-color);
            line-height: 1.7;
        }
        .container { max-width: 1000px; margin: 0 auto; padding: 0 20px; }
        
        /* -- Navbar -- */
        .navbar {
            background-color: rgba(31, 31, 58, 0.85) !important;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem 0;
            transition: all 0.3s ease;
        }
        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .navbar-nav .nav-link {
            color: var(--secondary-text-color) !important;
            font-weight: 500;
            margin: 0 0.5rem;
            padding: 0.5rem 0.75rem !important;
            transition: color 0.3s ease;
        }
        .navbar-nav .nav-link:hover { color: white !important; }
        .navbar-toggler { border: none !important; outline: none !important; box-shadow: none !important; }
        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(200, 53, 248, 1)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e") !important;
        }

        /* -- Sections & Titles -- */
        .page-section { padding: 100px 0; }
        .page-section.alt-bg { background-color: #161625; }
        .section-title { font-size: 2.5rem; font-weight: 600; margin-bottom: 1rem; }
        .section-subtitle { color: var(--secondary-text-color); margin-bottom: 3rem; max-width: 600px; margin-left: auto; margin-right: auto;}
        .divider {
            height: 4px;
            width: 80px;
            background: var(--accent-gradient);
            border-radius: 2px;
            margin: 1.5rem auto 3rem auto;
        }

        /* -- Components -- */
        .ip-display-box {
            padding: 1rem;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            margin-bottom: 2rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .ip-display-box:hover { background-color: var(--card-bg-color); }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1.5rem;
        }
        .service-box {
            background: var(--card-bg-color);
            padding: 1.5rem 1rem;
            border-radius: 15px;
            text-align: center;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }
        .service-box:hover { transform: translateY(-5px); box-shadow: 0 8px 25px var(--shadow-color); }
        .service-box i { font-size: 2.5rem; background: var(--accent-gradient); -webkit-background-clip: text; background-clip: text; color: transparent; margin-bottom: 1rem; }
        .service-box h6 { font-weight: 600; font-size: 1rem; color: var(--primary-text-color); }
        .service-box small { color: var(--secondary-text-color); }
        .service-box a { text-decoration: none; }

        /* -- Form Elements -- */
        .form-control, .btn { border-radius: 10px; padding: 0.9rem 1.2rem; font-size: 1rem; border: 1px solid var(--border-color); }
        .form-control { background-color: var(--bg-color); color: var(--primary-text-color); }
        .form-control:focus { background-color: var(--bg-color); color: var(--primary-text-color); border-color: #8e44ad; box-shadow: 0 0 15px var(--glow-color) !important; outline: none; }
        .btn-primary { background: var(--accent-gradient); border: none; font-weight: 600; color: white !important; transition: all 0.3s ease; text-transform: none; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 5px 15px var(--glow-color); }
        
        .slider { -webkit-appearance: none; appearance: none; width: 100%; max-width: 400px; height: 15px; background: var(--bg-color); outline: none; opacity: 0.8; transition: opacity .2s; border-radius: 10px; border: 1px solid var(--border-color); cursor: pointer; }
        .slider:hover { opacity: 1; }
        .slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 25px; height: 25px; background: #C835F8; border-radius: 50%; cursor: pointer; box-shadow: 0 0 10px var(--glow-color); }
        .slider::-moz-range-thumb { width: 25px; height: 25px; background: #C835F8; border-radius: 50%; cursor: pointer; box-shadow: 0 0 10px var(--glow-color); }
        #rangeValue, #rangeValue2 { color: var(--secondary-text-color); font-size: 1rem; margin-top: 1rem; transition: color 0.3s ease; }
        
        /* -- Results & Instructions Area -- */
        .results-box { padding: 1.5rem; margin-top: 2rem; border-radius: 15px; background-color: var(--card-bg-color); border: 1px solid var(--border-color); }
        .results-box p { word-break: break-all; margin-bottom: 0.5rem; }
        .results-box a { color: var(--success-color); text-decoration: none; font-weight: 600; }
        #qrcodeweb { padding: 10px; background: white; border-radius: 10px; display: inline-block; }
        #qrcodeweb canvas { display: block; }
        
        .how-it-works { margin-top: 3rem; }
        .step { display: flex; align-items: center; gap: 3rem; margin-bottom: 4rem; }
        .step:nth-child(even) { flex-direction: row-reverse; }
        .step-image { flex: 1; }
        .step-image img { border-radius: 15px; box-shadow: 0 10px 30px var(--shadow-color); max-width: 100%; height: auto; }
        .step-text { flex: 1; text-align: left;}
        .step-text h3 { font-size: 1.8rem; font-weight: 600; margin-bottom: 1rem; background: var(--accent-gradient); -webkit-background-clip: text; background-clip: text; color: transparent; display: inline-block;}
        
        /* -- Feature Cards -- */
        .feature-card {
            background: var(--card-bg-color);
            border-radius: 15px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            height: 100%;
            transition: all 0.3s ease;
        }
        .feature-card:hover { transform: translateY(-10px); box-shadow: 0 15px 40px var(--shadow-color); }
        .feature-icon { font-size: 3rem; background: var(--accent-gradient); -webkit-background-clip: text; background-clip: text; color: transparent; margin-bottom: 1.5rem; }
        .feature-title { font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem; color: var(--primary-text-color); }
        
        /* -- FAQ Section -- */
        .faq-item { 
            background: var(--card-bg-color); 
            border-radius: 10px; 
            margin-bottom: 1rem; 
            border: 1px solid var(--border-color);
            overflow: hidden;
        }
        .faq-question { 
            padding: 1.5rem; 
            cursor: pointer; 
            font-weight: 600; 
            transition: all 0.3s;
            border: none;
            background: transparent;
            color: var(--primary-text-color);
            width: 100%;
            text-align: left;
        }
        .faq-question:hover { background-color: rgba(255, 255, 255, 0.05); }
        .faq-answer { 
            padding: 0 1.5rem 1.5rem; 
            display: none; 
            color: var(--secondary-text-color);
        }
        .faq-answer.active { display: block; }
        
        /* -- Footer -- */
        .footer { background: #161625; padding: 3rem 0; border-top: 1px solid var(--border-color); }
        .footer a { color: var(--secondary-text-color); text-decoration: none; margin: 0 0.5rem; }
        .footer a:hover { color: white; }
        
        /* -- Responsive Design -- */
        @media (max-width: 768px) {
            .step { flex-direction: column !important; gap: 2rem; }
            .section-title { font-size: 2rem; }
            .services-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>

<body id="page-top">
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
        <div class="container">
            <a class="navbar-brand" href="#page-top">高级版 Grabify</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto py-4 py-lg-0">
                    <li class="nav-item"><a class="nav-link" href="#url">URL 追踪</a></li>
                    <li class="nav-item"><a class="nav-link" href="#email">邮件追踪</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://www.maipdf.com/pdf/boot.php" target="_blank">安全 PDF</a></li>
                    <li class="nav-item"><a class="nav-link" href="https://privnote.chat" target="_blank">私密便签</a></li>
                    <li class="nav-item"><a class="nav-link" href="#howemail">IP 查询</a></li>
                </ul>
            </div>
        </div>
    </nav>
    
    <header class="page-section text-center" style="padding-top: 120px;">
        <div class="container">
            <h1 class="section-title">高级 IP 追踪与记录系统</h1>
            <p class="section-subtitle">轻松创建可追踪的短链接、二维码和隐形邮件追踪器，全面掌握用户行为数据。</p>
            <a href="#howemail" class="ip-display-box d-block text-decoration-none text-white" style="max-width: 400px; margin: 0 auto;">
                <strong>您的 IP 地址：</strong> <span id='ipaddress'>加载中...</span>
            </a>
            <h5 class="text-center mb-0" id='resultlink'></h5>
        </div>
    </header>

    <section id="services" class="page-section alt-bg" style="padding-top: 50px;">
        <div class="container">
            <h2 class="section-title text-center mb-5">追踪工具集合</h2>
            <div class="services-grid">
                <div class="service-box">
                    <a class="nav-link" href="#url">
                        <i class="fas fa-link"></i>
                        <h6>URL<br><small>链接追踪</small></h6>
                    </a>
                </div>
                <div class="service-box">
                    <a class="nav-link" href="https://privnote.chat" target="_blank">
                        <i class="fas fa-fire-alt"></i>
                        <h6>私密便签<br><small>阅后即焚</small></h6>
                    </a>
                </div>
                <div class="service-box">
                    <a class="nav-link" href="#email">
                        <i class="fas fa-envelope"></i>
                        <h6>邮件<br><small>追踪器</small></h6>
                    </a>
                </div>
                <div class="service-box">
                    <a class="nav-link" href="qr.php#pic">
                        <i class="fas fa-images"></i>
                        <h6>图片<br><small>追踪器</small></h6>
                    </a>
                </div>
                <div class="service-box">
                    <a class="nav-link" href="https://www.maipdf.com/pdf/boot.php" target="_blank">
                        <i class="fas fa-file-pdf"></i>
                        <h6>PDF<br><small>追踪器</small></h6>
                    </a>
                </div>
                <div class="service-box">
                    <a class="nav-link" href="#howemail">
                        <i class="fas fa-search-location"></i>
                        <h6>IP<br><small>查询</small></h6>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- 功能介绍区域 -->
    <section class="page-section">
        <div class="container">
            <h2 class="section-title text-center">为什么选择我们的追踪系统？</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="feature-card">
                        <i class="fas fa-shield-alt feature-icon"></i>
                        <h3 class="feature-title">安全可靠</h3>
                        <p>采用先进的加密技术保护您的数据安全，确保追踪信息不被泄露，所有数据传输均经过 SSL 加密处理。</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <i class="fas fa-chart-line feature-icon"></i>
                        <h3 class="feature-title">详细分析</h3>
                        <p>提供详细的访问统计和用户行为分析，包括 IP 地址、地理位置、设备信息、浏览器类型等多维度数据。</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <i class="fas fa-rocket feature-icon"></i>
                        <h3 class="feature-title">快速响应</h3>
                        <p>实时追踪技术确保数据即时更新，无需等待，让您第一时间了解链接点击情况和用户行为。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="page-section text-center" id="url">
        <div class="container">
            <h2 class="section-title">URL 与二维码追踪生成器</h2>
            <hr class="divider">
            <p class="section-subtitle">输入任何有效的 URL 地址，生成可追踪的短链接和二维码，实时监控点击情况。</p>
            <div class="form-group mb-4" style="max-width: 600px; margin: 0 auto;">
                <label for="webinput" id="joehint" class="form-label mb-2 fw-bold">请输入要追踪的 URL 地址：</label>
                <input type="text" class="form-control" id="webinput" value="https://" placeholder="例如：https://www.example.com">
            </div>
            <div class="form-group my-4">
                <input type="range" class="slider" id="myRange" value="1" max="100">
                <div id="rangeValue">拖动进度条到最右端以启用</div>
            </div>
            <div class="form-group mb-4">
                <button type="button" class="btn btn-primary btn-lg" onclick="makeCodeweb()">生成追踪链接/二维码</button>
            </div>
            
            <div id="loadingdot" style="display:none;"></div>
            
            <div class="row align-items-center justify-content-center results-box" id="xingxi-container" style="display: none;">
                <div id='xingxi' class="col-12 col-md-7 text-start">
                    <p id='atype'></p>
                    <p id='btypesay'></p>
                    <p id='btype'></p>
                </div>
                <div class="col-12 col-md-5 text-center mt-4 mt-md-0">
                    <div id="qrcodeweb"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="page-section alt-bg" id="how-it-works">
        <div class="container">
            <h2 class="section-title text-center">工作原理</h2>
            <hr class="divider">
            <div class="how-it-works">
                <div class="step">
                    <div class="step-image">
                        <img src="https://images.unsplash.com/photo-1585079542156-2755d9c8a094?q=80&w=1974&auto=format&fit=crop" alt="代码界面">
                    </div>
                    <div class="step-text">
                        <h3>第一步：输入网址</h3>
                        <p>输入您希望用户访问的任何网页链接。这将成为点击您的追踪链接后的目标页面，确保链接有效且可访问。</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-text">
                        <h3>第二步：生成链接</h3>
                        <p>系统将为您生成一个新的"Grabify 链接"供您分享，以及一个专属的"追踪链接"用于查看访问日志和统计数据。</p>
                    </div>
                     <div class="step-image">
                        <img src="https://images.unsplash.com/photo-1555949963-ff98c872d81b?q=80&w=2070&auto=format&fit=crop" alt="网络连接">
                    </div>
                </div>
                <div class="step">
                    <div class="step-image">
                        <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2070&auto=format&fit=crop" alt="数据分析图表">
                    </div>
                    <div class="step-text">
                        <h3>第三步：分享与追踪</h3>
                        <p>分享生成的新链接。通过您的专属追踪页面查看每次点击的详细日志，包括 IP、位置、设备信息等。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="page-section text-center" id="email">
        <div class="container">
            <h2 class="section-title">隐形邮件追踪器</h2>
            <p class="section-subtitle">生成 1x1 像素的透明图片来追踪邮件的打开情况。 <a href="ok/trackemail.html" style="color: var(--success-color);">(了解工作原理)</a></p>
            <hr class="divider">
            <div class="mb-4">
                <div class="alert" style="background-color: var(--card-bg-color); border: 1px solid var(--border-color); border-radius: 10px; padding: 1rem;">
                    <i class="fas fa-info-circle me-2" style="color: var(--success-color);"></i>
                    <strong>使用提示：</strong>生成的追踪像素是完全透明的，可以嵌入到 HTML 邮件中而不会被收件人察觉。
                </div>
            </div>
            <div class="form-group mb-4">
                <input type="range" class="slider" id="myRange2" value="1" max="100">
                <div id="rangeValue2">拖动进度条到最右端以启用</div>
            </div>
            <div class="form-group mb-4">
                <button type="button" class="btn btn-primary btn-lg" onclick="makeCodeweb2()">生成邮件追踪像素</button>
            </div>

            <div class="results-box" id="email-results">
                <h5 class="mb-3">复制下面的追踪像素 URL 到您的邮件源代码中：</h5>
                <p id='aer' class="fw-bold"></p>
                <hr class="my-4" style="border-color: var(--border-color);">
                <h5 class="mb-3">使用下面的追踪链接查看结果：</h5>
                <p id='bsay'></p>
                <p id='ber'></p>
            </div>
        </div>
    </section>

    <!-- 使用场景区域 -->
    <section class="page-section alt-bg">
        <div class="container">
            <h2 class="section-title text-center">适用场景</h2>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="feature-card">
                        <i class="fas fa-briefcase feature-icon"></i>
                        <h3 class="feature-title">商业用途</h3>
                        <ul style="color: var(--secondary-text-color);">
                            <li>监控营销邮件的打开率</li>
                            <li>追踪销售链接的点击情况</li>
                            <li>分析客户的兴趣和行为</li>
                            <li>优化广告投放效果</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="feature-card">
                        <i class="fas fa-users feature-icon"></i>
                        <h3 class="feature-title">个人用途</h3>
                        <ul style="color: var(--secondary-text-color);">
                            <li>了解朋友是否查看了您的链接</li>
                            <li>监控社交媒体分享效果</li>
                            <li>追踪个人作品的传播情况</li>
                            <li>检测邮件是否被阅读</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="feature-card">
                        <i class="fas fa-shield-alt feature-icon"></i>
                        <h3 class="feature-title">安全监控</h3>
                        <ul style="color: var(--secondary-text-color);">
                            <li>检测可疑的网络活动</li>
                            <li>监控钓鱼邮件的传播</li>
                            <li>分析恶意链接的点击来源</li>
                            <li>保护网络安全</li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="feature-card">
                        <i class="fas fa-chart-bar feature-icon"></i>
                        <h3 class="feature-title">数据分析</h3>
                        <ul style="color: var(--secondary-text-color);">
                            <li>收集用户行为数据</li>
                            <li>分析访问者地理分布</li>
                            <li>统计设备和浏览器使用情况</li>
                            <li>优化用户体验</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ 区域 -->
    <section class="page-section">
        <div class="container">
            <h2 class="section-title text-center">常见问题</h2>
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(1)">
                            <i class="fas fa-question-circle me-2"></i>
                            这个工具是否合法使用？
                        </button>
                        <div class="faq-answer" id="faq-1">
                            <p>是的，Grabify 是一个合法的网络分析工具。但请确保您的使用符合当地法律法规，并且不用于恶意目的。我们建议在商业用途中告知用户数据收集行为。</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(2)">
                            <i class="fas fa-eye me-2"></i>
                            目标用户会知道他们被追踪吗？
                        </button>
                        <div class="faq-answer" id="faq-2">
                            <p>通常情况下不会。我们生成的链接看起来像普通的短链接，邮件追踪像素是完全透明的。但是，技术熟练的用户可能会通过查看 URL 或页面源代码发现追踪机制。</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(3)">
                            <i class="fas fa-clock me-2"></i>
                            追踪数据保存多长时间？
                        </button>
                        <div class="faq-answer" id="faq-3">
                            <p>我们的系统会保存追踪数据 30 天。超过这个时间的数据会被自动清理。如果您需要长期保存数据，建议定期导出追踪报告。</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(4)">
                            <i class="fas fa-globe me-2"></i>
                            可以追踪到哪些信息？
                        </button>
                        <div class="faq-answer" id="faq-4">
                            <p>我们可以追踪：IP 地址、大概的地理位置、设备类型、操作系统、浏览器信息、访问时间、引荐页面等。我们不会收集个人身份信息或浏览历史。</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <button class="faq-question" onclick="toggleFaq(5)">
                            <i class="fas fa-mobile-alt me-2"></i>
                            是否支持移动设备追踪？
                        </button>
                        <div class="faq-answer" id="faq-5">
                            <p>是的，我们的追踪系统完全兼容移动设备，包括手机和平板电脑。无论访问者使用什么设备，我们都能准确记录他们的访问信息。</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="page-section alt-bg text-center" id="howemail">
        <div class="container">
            <h2 class="section-title">IP 信息查询</h2>
            <hr class="divider">
            <p class="section-subtitle">输入任何 IP 地址，获取详细的地理位置和 ISP 信息。</p>
            <div class="input-group mb-3" style="max-width: 500px; margin: 0 auto;">
                <input type="text" id="findanip" class="form-control" placeholder="输入 IP 地址，例如：8.8.8.8">
                <button id="findanipbutton" class="btn btn-primary" type="button">查询 IP</button>
            </div>
            <div id="ipbackinfo" class="mt-4 p-3 rounded text-start" style="background-color: var(--card-bg-color); border: 1px solid var(--border-color); min-height: 50px; white-space: pre-wrap; font-family: monospace;"></div>
        </div>
    </section>

    <footer class="footer text-center">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5 style="color: var(--primary-text-color); margin-bottom: 1rem;">相关链接</h5>
                    <a href='https://maipdf.com'>MaiPDF 首页</a><br>
                    <a href="https://iplogger.icu/iplogger.html">功能介绍</a><br>
                    <a href="ok/drm.html">数字版权管理</a>
                </div>
                <div class="col-md-4">
                    <h5 style="color: var(--primary-text-color); margin-bottom: 1rem;">安全提醒</h5>
                    <p style="color: var(--secondary-text-color); font-size: 0.9rem;">
                        请合法合规地使用本工具<br>
                        尊重他人隐私权<br>
                        不要用于恶意目的
                    </p>
                </div>
                <div class="col-md-4">
                    <h5 style="color: var(--primary-text-color); margin-bottom: 1rem;">技术支持</h5>
                    <p style="color: var(--secondary-text-color); font-size: 0.9rem;">
                        如有技术问题<br>
                        请联系我们的支持团队<br>
                        Email: support@grabify.icu
                    </p>
                </div>
            </div>
            <hr style="border-color: var(--border-color); margin: 2rem 0;">
            <div class="small text-muted">Copyright &copy; 2025 - 高级版 Grabify | mythenigma@gmail.com</div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/davidshimjs-qrcodejs@0.0.2/qrcode.min.js"></script>
    
    <script>
    // ==================================================================
    // 所有原始的 JavaScript 功能都保留在这里
    // ==================================================================
    
    // FAQ 切换功能
    function toggleFaq(num) {
        const answer = document.getElementById('faq-' + num);
        const isActive = answer.classList.contains('active');
        
        // 关闭所有 FAQ
        document.querySelectorAll('.faq-answer').forEach(item => {
            item.classList.remove('active');
        });
        
        // 如果不是当前活跃的，则打开
        if (!isActive) {
            answer.classList.add('active');
        }
    }
    
    // IP 地址验证函数
    function isValidIP(ip) {
        const ipv4Pattern = /^([0-9]{1,3}\.){3}[0-9]{1,3}$/;
        const ipv6Pattern = /^([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}$|^([0-9a-fA-F]{1,4}:){1,7}:$|^([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}$|^([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}$|^([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}$|^([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}$|^([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}$|^[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})$|^:((:[0-9a-fA-F]{1,4}){1,7}|:)$|^fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}$|^::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9])?[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9])?[0-9])$|^([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9])?[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9])?[0-9])$/;
        if (ipv4Pattern.test(ip)) {
            const parts = ip.split('.');
            return parts.every(part => { const num = parseInt(part, 10); return num >= 0 && num <= 255; });
        }
        return ipv6Pattern.test(ip);
    }
    
    // IP 查询功能
    document.getElementById('findanipbutton').addEventListener('click', function(event) {
        let i = document.getElementById("findanip").value;
        if(isValidIP(i)){
            document.getElementById('ipbackinfo').innerHTML = '正在查询 ' + i + ' 的信息...';
            fetch('https://grabify.icu/c.php?i='+i)
            .then(response => response.text())
            .then(data => { 
                document.getElementById('ipbackinfo').innerHTML = i + ' 的详细信息:\n' + data; 
            })
            .catch(error => {
                console.error('Error fetching data:', error);
                document.getElementById('ipbackinfo').innerHTML = '查询失败，请稍后重试。';
            });
        }else{ 
            alert('请输入有效的 IP 地址'); 
            return; 
        }
    });
    
    // 获取用户当前 IP
    fetch('https://grabify.icu/c.php')
        .then(response => response.text())
        .then(data => {
            document.getElementById('ipaddress').innerHTML = data + ' <br><small>点击查看更多详情</small>';
            document.getElementById('findanip').value = data;
        })
        .catch(error => {
            console.error('Error fetching data:', error);
            document.getElementById('ipaddress').innerHTML = '无法获取 IP 地址';
        });

    // 滑动条功能
    ['myRange', 'myRange2'].forEach(id => {
        const slider = document.getElementById(id);
        const valueLabel = document.getElementById(id.replace('myRange', 'rangeValue'));
        if (slider && valueLabel) {
            const updateLabel = () => {
                if (slider.value == 100) {
                    valueLabel.innerHTML = "准备就绪！";
                    valueLabel.style.color = 'var(--success-color)';
                } else {
                    valueLabel.innerHTML = "拖动进度条到最右端以启用";
                    valueLabel.style.color = 'var(--secondary-text-color)';
                }
            };
            ['mousemove', 'touchmove', 'touchend', 'change'].forEach(evt => {
                slider.addEventListener(evt, updateLabel);
            });
        }
    });

    // 二维码生成器
    var qrcode2 = new QRCode(document.getElementById("qrcodeweb"), {
        width: 170, height: 170, colorDark: "#000000", colorLight: "#ffffff", correctLevel: QRCode.CorrectLevel.H
    });

    // URL 追踪功能
    async function makeCodeweb() {
        document.getElementById("btypesay").innerHTML='<h3>正在生成追踪链接...</h3>';
        var web = document.getElementById("webinput");
        if(web.value.length<10){ 
            alert('请输入有效的 URL 地址'); 
            return; 
        }
        let filterstrings = ['porn','redtube','81ea'];
        let regex = new RegExp( filterstrings.join( "|" ), "i");
        if(regex.test(web.value)){ 
            alert('该内容不被支持'); 
            return 0; 
        }
        if($('#myRange').val()==100){
            document.getElementById("myRange").value=20;
            document.getElementById("rangeValue").innerHTML="拖动进度条到最右端以启用";
        }else{ 
            alert('请先拖动进度条到最右端'); 
            return; 
        }
        qrcode2.makeCode(web.value);
        const data = new FormData();
        data.append('i', web.value);
        const response = await fetch("qrcode.php", { method: "POST", body: data });
        try {
            const res = await response.text().then(text => text.trim());
            document.getElementById("xingxi-container").style.display = 'flex';
            continuewithcode(res);
        }catch (error) { 
            document.getElementById("btypesay").innerHTML='<h3>生成失败，请重试</h3>';
            return; 
        }
    }
    
    function continuewithcode(res){
        if (res.includes("Reachable")) { 
            alert('请输入有效的 URL 地址'); 
            return; 
        }
        res = res.split(":");
        var qd ="https://grabb.site/"+res[1];
        qrcode2.makeCode(qd);
        document.getElementById("atype").innerHTML="新的 Grabify 链接: <br>"+"<a href=https://grabb.site/"+res[1]+" target=\"_blank\">https://grabb.site/"+res[1]+"</a>";
        document.getElementById("btypesay").innerHTML="追踪代码: "+res[2];
        document.getElementById("btype").innerHTML="追踪链接: <br>"+"<a href=https://grabify.icu/"+res[2]+" target=\"_blank\">https://grabify.icu/"+res[2]+"</a>";
    }

    // 邮件追踪功能
    async function makeCodeweb2() {
        document.getElementById("bsay").innerHTML="<h5>正在生成邮件追踪链接...</h5>";
        if($('#myRange2').val()==100){
            document.getElementById("myRange2").value=20;
            document.getElementById("rangeValue2").innerHTML="拖动进度条到最右端以启用";
        }else{ 
            alert('请先拖动进度条到最右端'); 
            return; 
        }
        const data = new FormData();
        data.append('i', 'mm');
        const response = await fetch("qrcode.php", { method: "POST", body: data });
        try {
            const res = await response.text().then(text => text.trim());
            continuewithcode2(res);
        }catch (error) { 
            document.getElementById("bsay").innerHTML="<h5>生成失败，请重试</h5>";
            return; 
        }
    }
    
    function continuewithcode2(res){
        if (res.includes("Reachable")) { 
            alert('生成失败，请重试'); 
            return; 
        }
        res = res.split(":");
        document.getElementById("aer").innerHTML="邮件追踪 URL: <br>"+"<a href=https://grabb.site/wx/"+res[1]+".png target=\"_blank\">https://grabb.site/wx/"+res[1]+".png</a>";
        document.getElementById("bsay").innerHTML="追踪代码: "+res[2];
        document.getElementById("ber").innerHTML="追踪链接: <br>"+"<a href=https://grabify.icu/"+res[2]+" target=\"_blank\">https://grabify.icu/"+res[2]+"</a>";
    }
    
    // 页面加载完成后的初始化
    document.addEventListener('DOMContentLoaded', function() {
        // 为 IP 地址输入框添加回车键支持
        document.getElementById('findanip').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('findanipbutton').click();
            }
        });
        
        // 为 URL 输入框添加回车键支持
        document.getElementById('webinput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                makeCodeweb();
            }
        });
    });
    </script>
</body>
</html>
